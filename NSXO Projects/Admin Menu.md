---
created: 2025-07-22 08:31:41
---
# ğŸ‘¨â€ğŸ’¼ Admin Command Menu Guide

## ğŸš€ **Complete Admin Menu System**

Your Telegram bot now has a **comprehensive admin command menu** that provides easy access to all admin functions, similar to professional messaging platforms. Here's how to use it:

---

## ğŸ“± **How to Access the Admin Menu**

### **Primary Command:**
```
/admin
```

This opens the main admin command menu with all available functions organized by category.

### **Alternative Commands:**
- `/dashboard` - Direct access to admin dashboard
- `/conversations` - Direct access to conversation management
- `/users` - Direct access to user management
- `/products` - Direct access to product management

---

## ğŸ¯ **Main Admin Menu Categories**

### **1. ğŸ’¬ Conversations**
**Purpose:** Manage user conversations and respond to messages

**Features:**
- ğŸ“‹ **All Conversations** - View all active conversations
- ğŸ“¬ **Unread Only** - Filter conversations with unread messages
- ğŸ¯ **High Priority** - Show high-priority conversations first
- ğŸ“¦ **Archived** - View archived conversations
- ğŸ“Š **Conversation Stats** - Analytics and metrics
- âš™ï¸ **Conv Settings** - Conversation management settings

**Use Cases:**
- Respond to user messages quickly
- Prioritize urgent conversations
- Track conversation performance
- Manage conversation workflow

---

### **2. ğŸ“Š Dashboard**
**Purpose:** Overview of bot statistics and performance

**Features:**
- ğŸ“ˆ **Detailed Stats** - Comprehensive statistics
- ğŸ“Š **Export Data** - Export bot data
- ğŸ”„ **Refresh** - Update dashboard data
- Real-time user counts and activity

**Use Cases:**
- Monitor bot performance
- Track user growth
- View system health
- Export data for analysis

---

### **3. ğŸ“ˆ Analytics**
**Purpose:** Detailed analytics and reporting

**Features:**
- ğŸ“Š **User Analytics** - User engagement and growth
- ğŸ’¬ **Conversation Analytics** - Message patterns and response times
- ğŸ’° **Revenue Analytics** - Payment and revenue tracking
- â±ï¸ **Performance Analytics** - System performance metrics
- ğŸ“ˆ **Export Reports** - Generate downloadable reports

**Use Cases:**
- Analyze user behavior
- Track revenue performance
- Monitor system efficiency
- Generate business reports

---

### **4. ğŸ‘¥ User Management**
**Purpose:** Manage users, credits, and access

**Features:**
- ğŸ‘¥ **All Users** - View all registered users
- ğŸš« **Banned Users** - Manage banned accounts
- â­ **VIP Users** - Identify high-value users
- ğŸ†• **New Users** - Track recent registrations
- ğŸ’° **Edit Credits** - Modify user credit balances
- ğŸ **Gift Credits** - Send free credits to users
- ğŸ“Š **User Stats** - User statistics and metrics

**Use Cases:**
- Manage user accounts
- Handle support requests
- Reward loyal users
- Monitor user activity

---

### **5. ğŸ›’ Products**
**Purpose:** Manage credit packages and time sessions

**Features:**
- ğŸ›’ **Manage Products** - View and edit existing products
- â• **Create Product** - Add new credit packages
- ğŸ“Š **Product Stats** - Product performance metrics
- ğŸ’° **Pricing** - Manage product pricing
- ğŸ”„ **Sync Stripe** - Sync with Stripe products

**Use Cases:**
- Create new credit packages
- Adjust pricing strategies
- Monitor product performance
- Manage Stripe integration

---

### **6. ğŸ’° Billing**
**Purpose:** Manage payments and revenue

**Features:**
- ğŸ’° **Payment History** - View all payment records
- ğŸ’³ **Stripe Dashboard** - Access Stripe dashboard
- ğŸ”„ **Webhook Status** - Check webhook functionality
- ğŸ“Š **Revenue Stats** - Revenue analytics
- âš™ï¸ **Billing Settings** - Configure billing options

**Use Cases:**
- Track payment processing
- Monitor revenue
- Handle payment issues
- Configure billing settings

---

### **7. ğŸ“¢ Broadcast**
**Purpose:** Send messages to multiple users

**Features:**
- ğŸ“¢ **Send Broadcast** - Send message to all users
- ğŸ“‹ **Broadcast History** - View past broadcasts
- ğŸ‘¥ **Target Users** - Send to specific user groups
- ğŸ“Š **Broadcast Stats** - Track delivery statistics
- âš™ï¸ **Broadcast Settings** - Configure broadcast options

**Use Cases:**
- Announce new features
- Send promotional messages
- Notify users of updates
- Target specific user segments

---

### **8. ğŸ Mass Gift**
**Purpose:** Send free credits to multiple users

**Features:**
- ğŸ **Send Mass Gift** - Send credits to all users
- ğŸ“‹ **Gift History** - Track gift distributions
- ğŸ‘¥ **Target Users** - Gift specific user groups
- ğŸ’° **Gift Amounts** - Configure gift amounts
- ğŸ“Š **Gift Stats** - Track gift statistics

**Use Cases:**
- Reward loyal users
- Promote new features
- Compensate for issues
- Run promotional campaigns

---

### **9. âš™ï¸ Settings**
**Purpose:** Configure bot behavior and appearance

**Features:**
- âš™ï¸ **Bot Settings** - General bot configuration
- ğŸ’¬ **Message Costs** - Set message pricing
- ğŸ‘‹ **Welcome Message** - Customize welcome text
- â° **Time Sessions** - Configure time-based messaging
- ğŸ“¤ **Export Settings** - Export bot configuration
- ğŸ“¥ **Import Settings** - Import bot configuration
- ğŸ”„ **Reset Settings** - Reset to defaults

**Use Cases:**
- Customize bot behavior
- Adjust pricing strategy
- Personalize user experience
- Backup and restore settings

---

### **10. ğŸ”§ System**
**Purpose:** Monitor and manage system health

**Features:**
- ğŸ”§ **System Status** - Check system health
- ğŸ“Š **Performance** - Monitor performance metrics
- ğŸ—„ï¸ **Database** - Database management
- ğŸ“ **Logs** - View system logs
- ğŸ”„ **Restart Bot** - Restart the bot
- ğŸ’¾ **Backup** - Create system backups
- ğŸ›¡ï¸ **Security** - Security settings

**Use Cases:**
- Monitor system health
- Troubleshoot issues
- Perform maintenance
- Ensure security

---

### **11. ğŸ“ Quick Replies**
**Purpose:** Manage custom quick reply templates

**Features:**
- ğŸ“ **Manage Templates** - View and edit templates
- â• **Add Template** - Create new templates
- ğŸ“‚ **Categories** - Organize templates by category
- ğŸ“Š **Usage Stats** - Track template usage
- âš™ï¸ **Quick Reply Settings** - Configure template system

**Use Cases:**
- Create response templates
- Speed up customer support
- Maintain consistent messaging
- Track response efficiency

---

### **12. ğŸ” Search**
**Purpose:** Search across all bot data

**Features:**
- ğŸ” **Search Users** - Find users by name or ID
- ğŸ’¬ **Search Messages** - Search message history
- ğŸ’° **Search Payments** - Find payment records
- ğŸ“¦ **Search Products** - Search product information
- ğŸ“Š **Search Analytics** - Advanced analytics search

**Use Cases:**
- Find specific users
- Search conversation history
- Track payment issues
- Analyze data patterns

---

## ğŸ›ï¸ **Status Management**

### **Set Admin Status:**
- ğŸŸ¢ **Online** - Available for support
- ğŸŸ¡ **Away** - Temporarily unavailable
- ğŸ”´ **Busy** - High workload
- ğŸ“ **Custom Status** - Custom status message
- â° **Auto Status** - Automatic status based on activity

---

## ğŸ”„ **Navigation Features**

### **Menu Navigation:**
- **Back to Menu** - Return to main admin menu
- **Refresh** - Update menu with latest data
- **Close** - Close the menu
- **Help** - Show help information

### **Quick Actions:**
- **Direct Commands** - Use specific commands for direct access
- **Keyboard Shortcuts** - Quick access to common functions
- **Context Menus** - Right-click style options

---

## ğŸ“Š **Real-time Statistics**

The admin menu displays real-time statistics including:
- ğŸ‘¥ **Total Users** - Number of registered users
- ğŸ’¬ **Active Conversations** - Current active conversations
- ğŸ“¬ **Unread Messages** - Messages waiting for response
- ğŸŸ¢ **Admin Status** - Current availability status

---

## ğŸ¯ **Best Practices**

### **Daily Operations:**
1. **Check Dashboard** - Review daily statistics
2. **Monitor Conversations** - Respond to unread messages
3. **Review Analytics** - Track performance metrics
4. **Manage Users** - Handle support requests

### **Weekly Tasks:**
1. **Export Reports** - Generate weekly analytics
2. **Review Products** - Check product performance
3. **Update Settings** - Adjust bot configuration
4. **System Maintenance** - Check system health

### **Monthly Reviews:**
1. **Revenue Analysis** - Review payment performance
2. **User Growth** - Analyze user acquisition
3. **Feature Usage** - Track feature adoption
4. **System Optimization** - Performance improvements

---

## ğŸš€ **Advanced Features**

### **Quick Reply System:**
- Create custom response templates
- Organize by categories
- Track usage statistics
- Speed up customer support

### **Conversation Management:**
- Priority-based sorting
- Unread message filtering
- Conversation analytics
- Threaded message history

### **Product Management:**
- Stripe integration
- Automatic pricing
- Product performance tracking
- Real-time synchronization

### **Analytics Dashboard:**
- User engagement metrics
- Revenue tracking
- Performance monitoring
- Exportable reports

---

## ğŸ‰ **Getting Started**

1. **Type `/admin`** in your bot chat
2. **Explore categories** to familiarize yourself
3. **Set your status** to show availability
4. **Check dashboard** for current statistics
5. **Start managing** conversations and users

The admin menu provides **enterprise-level functionality** that rivals professional messaging platforms, giving you complete control over your bot's operations! ğŸš€
# Admin Menu



# ğŸš€ Telegram Premium Messaging Bot

> **Enterprise-grade Telegram bot with Stripe payments, credit system, and comprehensive admin panel**

## âœ¨ Key Features

- ğŸ’³ **Stripe Integration**: Secure payments with webhook automation
- ğŸ’¬ **Smart Credit System**: Text (1), Photo (3), Voice (5) credits per message  
- â° **Time Sessions**: Unlimited messaging during purchased time blocks
- ğŸ”„ **Two-Way Communication**: Seamless admin-user message forwarding
- ğŸ“Š **Advanced Admin Panel**: User management, analytics, and configuration
- ğŸ”’ **Premium Content**: Pay-to-unlock media with custom pricing
- ğŸ’° **Auto-Recharge**: Automatic credit top-ups with saved payment methods
- ğŸ¯ **Visual UX**: Progress bars, read receipts, typing indicators

## ğŸ›  Quick Setup

### Prerequisites
- Python 3.10+
- PostgreSQL database  
- Telegram Bot Token ([@BotFather](https://t.me/BotFather))
- Stripe account with API keys

### Installation

```bash
# Clone and setup
git clone <your-repo> telegram_bot
cd telegram_bot

# Virtual environment
python -m venv venv
source venv/bin/activate  # or `venv\Scripts\activate` on Windows

# Dependencies
pip install -r requirements.txt
```

### Configuration

Create `.env` file:
```env
# Required Configuration
BOT_TOKEN=your_telegram_bot_token_here
DATABASE_URL=postgresql://username:password@localhost:5432/telegram_bot_db
STRIPE_API_KEY=your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
ADMIN_CHAT_ID=your_telegram_user_id_here

# Optional Settings
WEBHOOK_PORT=8000
```

### Database & Launch

```bash
# Initialize database
python setup_db.py

# Start the bot
python run.py

# Or use the launch script
./scripts/run_bot.sh

# Optional: Webhook server (separate terminal)
python webhook_server.py
```

## ğŸ¯ Core Architecture

```
telegram_bot/
â”œâ”€â”€ ğŸ“ src/                    # Core application code
â”‚   â”œâ”€â”€ bot.py                 # Main bot application
â”‚   â”œâ”€â”€ config.py              # Configuration management
â”‚   â”œâ”€â”€ database.py            # Database operations
â”‚   â”œâ”€â”€ cache.py               # Redis caching system
â”‚   â”œâ”€â”€ error_handler.py       # Error handling & monitoring
â”‚   â”œâ”€â”€ enhanced_webhooks.py   # Advanced webhook processing
â”‚   â””â”€â”€ webhook_server.py      # Stripe webhook server
â”œâ”€â”€ ğŸ“ scripts/                # Utility scripts
â”‚   â”œâ”€â”€ setup_db.py            # Database initialization
â”‚   â””â”€â”€ run_bot.sh             # Launch script
â”œâ”€â”€ ğŸ“ deployment/             # Deployment configurations
â”‚   â”œâ”€â”€ Dockerfile             # Container configuration
â”‚   â”œâ”€â”€ docker-compose.yml     # Multi-service setup
â”‚   â””â”€â”€ railway.json           # Railway deployment config
â”œâ”€â”€ ğŸ“ docs/                   # Documentation
â”‚   â”œâ”€â”€ README.md              # Main documentation (this file)
â”‚   â”œâ”€â”€ DEPLOYMENT.md          # Production deployment guide
â”‚   â”œâ”€â”€ ADMIN_MENU_GUIDE.md    # Admin features
â”‚   â”œâ”€â”€ ADMIN_UI_PREVIEW.md    # UI screenshots
â”‚   â”œâ”€â”€ DATABASE_IMPROVEMENTS_GUIDE.md
â”‚   â”œâ”€â”€ STRIPE_WEBHOOKS_GUIDE.md
â”‚   â”œâ”€â”€ PERFORMANCE_IMPROVEMENTS.md
â”‚   â””â”€â”€ MULTI_USER_ADMIN_GUIDE.md
â”œâ”€â”€ ğŸ“‹ Configuration Files
â”‚   â”œâ”€â”€ .env                   # Environment variables
â”‚   â”œâ”€â”€ requirements.txt       # Python dependencies
â”‚   â”œâ”€â”€ pyproject.toml         # Code quality tools
â”‚   â”œâ”€â”€ run.py                 # Main entry point
â”‚   â””â”€â”€ setup_db.py            # Database setup entry point
â””â”€â”€ ğŸ“ venv/                   # Virtual environment
```

## ğŸ”¥ Enterprise Features

### For Users
- **ğŸ’³ Flexible Payments**: Credits or time-based sessions
- **ğŸ“± Visual Experience**: Progress bars, balance widgets, status indicators
- **âš¡ Quick Actions**: `/buy10`, `/buy25`, instant top-ups
- **ğŸ”„ Auto-Recharge**: Never run out of credits
- **ğŸ« Customer Portal**: Manage payment methods via `/billing`

### For Admins  
- **ğŸ“Š Dashboard**: Real-time stats via `/admin`
- **ğŸ‘¥ User Management**: `/users` - ban, edit credits, view details
- **ğŸ’¬ Conversation Hub**: `/conversations` - manage all user chats
- **âš™ï¸ Settings Panel**: `/settings` - dynamic configuration
- **ğŸ“ˆ Analytics**: Response times, popular features, revenue tracking

### Advanced Capabilities
- **ğŸ”’ Locked Content**: Custom pricing for premium media
- **ğŸ·ï¸ User Tiers**: New â†’ Regular â†’ VIP progression  
- **ğŸ“± Mini App**: React-based web interface (optional)
	- **ğŸ”” Smart Notifications**: Low balance warnings, session expiry alerts

## ğŸ’¡ Quick Start Examples

### Add Products (via database)
```sql
-- Credit packages
INSERT INTO products (label, stripe_price_id, item_type, amount, is_active) 
VALUES ('10 Credits Pack', 'price_xxxxxxxxxxxxxx', 'credits', 10, true);

-- Time sessions (3600 seconds = 1 hour)
INSERT INTO products (label, stripe_price_id, item_type, amount, is_active) 
VALUES ('1 Hour Chat', 'price_yyyyyyyyyyyyyy', 'time', 3600, true);
```

### Essential Admin Commands
```bash
/admin          # Main admin dashboard
/settings       # Bot configuration
/users          # User management  
/conversations  # Chat management
/dashboard      # Analytics overview
```

### User Commands
```bash
/start          # Get started & view packages
/balance        # Check credits/time remaining
/billing        # Manage payment methods
/autorecharge   # Configure auto top-ups
/purchases      # View locked content
```

## ğŸš€ Production Deployment

### Railway (Recommended)
```bash
# Install Railway CLI
npm install -g @railway/cli

# Deploy
railway login
railway link
railway up
```

### Docker
```bash
# Build and run
docker-compose up -d

# Or single container
docker build -t telegram-bot .
docker run -d --env-file .env telegram-bot
```

### Manual VPS
```bash
# Install as systemd service
sudo cp telegram_bot.service /etc/systemd/system/
sudo systemctl enable telegram_bot
sudo systemctl start telegram_bot
```

## ğŸ“Š Performance Features

- **ğŸ”„ Connection Pooling**: Optimized database connections
- **ğŸ’¾ Redis Caching**: Settings and user data caching  
- **ğŸ“ˆ Error Monitoring**: Comprehensive logging and alerts
- **âš¡ Rate Limiting**: Anti-spam protection
- **ğŸ” SQL Optimization**: Indexed queries and batch operations

## ğŸ›¡ï¸ Security & Compliance

- **ğŸ” Stripe Security**: PCI-compliant payment processing
- **ğŸ”’ Data Protection**: Encrypted sensitive data storage
- **ğŸš« Access Control**: Admin-only commands and rate limiting
- **ğŸ“ Audit Logging**: Complete transaction and action logs

## ğŸ“š Advanced Documentation

- **[Deployment Guide](DEPLOYMENT.md)**: Production setup and scaling
- **[Performance Guide](PERFORMANCE_IMPROVEMENTS.md)**: Optimization techniques  
- **[Database Guide](DATABASE_IMPROVEMENTS_GUIDE.md)**: Schema and queries
- **[Webhook Guide](STRIPE_WEBHOOKS_GUIDE.md)**: Payment integration
- **[Admin Guide](ADMIN_UI_PREVIEW.md)**: Admin panel features

## ğŸ“ Support & Maintenance

**Quick Diagnostics:**
```bash
# Check bot status
tail -f bot.log

# Database health
python -c "from database import db_manager; print('DB OK' if db_manager.test_connection() else 'DB Error')"

# Test Stripe connection  
python -c "import stripe; stripe.api_key='your_key'; print(stripe.Account.retrieve())"
```

**Common Issues:**
- Database connection errors â†’ Check `DATABASE_URL` 
- Stripe webhook failures â†’ Verify `STRIPE_WEBHOOK_SECRET`
- Permission denied â†’ Confirm `ADMIN_CHAT_ID` is correct

---

ğŸ‰ **Ready to launch your premium Telegram bot!** For support or feature requests, check the documentation or create an issue.